<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout.html}">
<head></head>
<body>
 <section layout:fragment="content">
 <nav aria-label="breadcrumb">
			  <ol class="breadcrumb">
			    <li class="breadcrumb-item"><a href="#"> <i class="fa fa-home fa-sm" style="font-size:20px;color:black;"></i></a></li>
			    <li class="breadcrumb-item"><a href="#">Processos</a></li>
			    <li class="breadcrumb-item">Criar Novo Processo</li>
			    
			  </ol>
			</nav>

 <h5><i class="fa fa-list-alt" aria-hidden="true"></i>	  Informações do Processo</h5> 

 <div class="card bg-light">	
	<div class="card-body">
				<div class="stepper-wrapper">
					  <div class="stepper-item completed">
					    <div class="step-counter">1</div>
					    <div class="step-name">Criando Processo</div>
					  </div>
					  <div class="stepper-item completed">
					    <div class="step-counter">2</div>
					    <div class="step-name">Classificação do Processo</div>
					  </div>
					  <div class="stepper-item completed">
					    <div class="step-counter">3</div>
					    <div class="step-name">Finalizar</div>
					  </div>					
					</div>
					
					
					<div class="card bg-light">
					  <div class="card-body">
					   Escolha o Setor Criador
					   <hr>
					    <div class="form-check">
							  <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
							  <label class="form-check-label" for="flexRadioDefault1">
							  <span  th:text="${usuario.nome}"  ></span>
							  
							  
							  </label>
						</div>		
						
					   <div class="form-check"  th:each="rs : ${setores}" th:id="'tr' + ${rs.id}">
							  <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
							  <label class="form-check-label" for="flexRadioDefault1">
							  <span  th:text="${rs.nome}"  ></span>
							  
							  
							  </label>
						</div>						

					  </div>
					</div>
					<br>
					<button type="button" class="btn btn-primary btn-sm rounded-pill pull-right">Avançar</button>
	</div>
	</div>	
	


</section>
<div layout:fragment="jscript">
 <script>
 var URL = '[[@{/}]]api';
   
   $("[id*='del']").click(function(event){
	  	  event.preventDefault();
	  	  var id = $(this).data("id");
	  	  var nome = $(this).data("nome");
	  	  swal({
	  		  title: 'Excluir?',
	  		  text: "Remover o acesso do Candidato? (" + nome + ")",
	  		  icon: 'warning',
	  		  buttons: [true, "Sim Excluir!"]
	  		}).then((result) => {
	  		  if (result) {
	  			  $.ajax({
	  				  url: URL + "v2/api/candidatos/delete/" + id,
	  				  method: "DELETE",
	  				  statusCode: {
	  					    403: function(xhr) {
	  					      	swal("Atenção","Você não tem permissão para realizar essa operação","error");
	  					    }
	  					  }
	  				}).done(function() {
	  				  $('#tr'+id).remove();		  
	  				});
	  		   }
	  		})
	  	  });
   
   
   var myModalEl = document.getElementById('imgModal')     
   myModalEl.addEventListener('show.bs.modal', function (event) {
    var href = $(event.relatedTarget)
     var id = href.data('record-id');    
    
	    $.getJSON( URL+"/candidatos/"+id, function( json ) {	  	 
	  	$('#fotoid').attr('src',`data:image/png;base64,${json.foto}` );
		$('#nomeCandidato').text(json.nome);
	  	
  	});

   })

   

   
</script>
</div>
  
</body>
</html>